<!DOCTYPE html>
<html>
<head>
    <title>chimichangas</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <style>
        .center{
            position: absolute;
            top: 35%;
            left: 47%;
            transform: translate(-50%, -50%);
            padding: 10px;
        }
    </style>


</head>
<body>
    <div class="center">

        <div style="display: flex; align-items: baseline;">
            <button style="height: 30px; width: 50px;" type="button" onclick="yapper()">YAP</button>
            <button style="display: flex; height: 30px; align-items: center; justify-content: space-evenly; margin-left: 10px;" type="button" onclick="continuousSwitch();">
                <p style="margin-right: 5px;">Continuous</p>
                <i id="continuousIcon" class="bi bi-check-circle"></i>
            </button>
        </div>
            
        <div style="display: flex; align-items: baseline;">
            <button id="start_at" style="height: 30px; margin-left: 2px; margin-top: 8px;">START AT</button>
            <input id="startingPoint" style="margin-left: 10px; width: 68px;" type="text" inputmode="numeric">
        </div>

        <div style="position: absolute; left: 50%; transform: translate(-50%);">
            <h2 id="number">1</h2>
        </div>
    </div>

    <script>
        const contEnabled = "bi bi-check-circle";
        const contDisabled = "bi bi-x-square";
        let numbah = document.getElementById("number");
        let contIcon = document.getElementById("continuousIcon");
        let continuity = true;
        let verifiedOnce = false;
        // Restricts input of something thats not in the range of 0-9
        document.getElementById("startingPoint").addEventListener("keypress", function(evt){
            if (evt.which < 48 || evt.which > 57){evt.preventDefault();}
        });

        document.getElementById("start_at").addEventListener("click", function(){
            numbah.textContent = document.getElementById("startingPoint").value;
        })


        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        async function yapper(){
            if(verifyIcon()){
                verifiedOnce = true;
                await sleep(1000);
                yappin();
                yapper();
            }else{
                if(verifiedOnce){
                    verifiedOnce = false;
                    numbah.textContent = parseInt(numbah.innerText) - 2;
                }else{
                    yappin();
                }
            }
        }
        function yappin(){
            if(parseInt(numbah.innerText)%2 == 0){
                numbah.textContent = parseInt(numbah.innerText) + 2;
            }else{
                numbah.textContent = parseInt(numbah.innerText) + 1;
            }
        }
        function verifyIcon(){
            if(contIcon.className == contEnabled){
                return true;
            }else{
                return false;
            }
        }
        function continuousSwitch(){
            if(verifyIcon()){
                continuity = false;
                contIcon.className = contDisabled;
            }else{
                continuity = true;
                contIcon.className = contEnabled;
            }
        }
    
        
    </script>
</body>
</html>